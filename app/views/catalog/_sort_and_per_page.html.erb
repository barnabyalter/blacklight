<div class="hidden-phone">
  
  <ul class="nav nav-pills" id="sortAndPerPage">
      
    <%= render :partial => "paginate_compact" %> 
      
    <li id="sort-dropdown" class="dropdown pill-with-label  pull-right">
            <%= t('blacklight.search.sort.label') %>
           <a class="dropdown-toggle" data-toggle="dropdown" data-target="#"><%=(sort_fields.detect { |sf| sf.last == params[:sort] } || sort_fields.first).first %>
              <b class="caret"></b>
            </a>
            &nbsp;
            <ul id="menu2" class="dropdown-menu">
              <%- sort_fields.each do |title, sort_key| %>
                <li>
                  <a data-target="#" data-value="<%=sort_key%>"><%=title%></a>
                </li>
              <%- end %>
            </ul>

    </li>


    <li class="sort-form pull-right">
      <%-# kind of hacky way to get this to work on catalog and bookmarks controllers.  May be able to simple do {:action=>"index"} but I'm not sure -%>
      <%= form_tag params[:controller] == "bookmarks" ? bookmarks_path : url_for(:action=>'index'), :method=>:get, :class=>'sort form-inline', :id => "sort-form" do %>
        <%= label_tag t('blacklight.search.sort.label') %>
        <%= select_tag(:sort, options_for_select(sort_fields, h(params[:sort])).html_safe) %>

        <%= search_as_hidden_fields(:omit_keys => [:page, :sort]) %>
        <%= submit_tag t('blacklight.search.sort.submit') %>
      <% end unless sort_fields.empty? %>
    </li>   

    <li id="per_page-dropdown" class="dropdown pill-with-label  pull-right">

            <a class="dropdown-toggle" data-toggle="dropdown" data-target="#"><%=params[:per_page] || "10"%>
              <b class="caret"></b>
            </a>
            <%= t('blacklight.search.per_page.post_label') %>        
            <ul id="menu1" class="dropdown-menu">
              <li>
                <a data-target="#" data-value="10">10</a>
              </li>
              <li>
                <a data-target="#" data-value="20">20</a>
              </li>
              <li>
                <a data-target="#" data-value="50">50</a>
              </li>
              <li>
                <a data-target="#" data-value="100">100</a>
              </li>
            </ul>

      </li>
      <li class="per_page-form pull-right">
        <%= form_tag params[:controller] == "bookmarks" ? bookmarks_path : url_for(:action=>'index'), :method=>:get, :class=>'per_page form-inline', :id => "per_page-form" do %>
          <%= label_tag(:per_page, t('blacklight.search.per_page.label', :select => select_tag(:per_page, options_for_select(['10', '20', '50', '100'], h(params[:per_page])), :title => t('blacklight.search.per_page.title'))).html_safe) %>
          <%= search_as_hidden_fields(:omit_keys => [:page, :per_page]) %>
          <%= submit_tag t('blacklight.search.per_page.submit') %>
          
        <% end %>
      </li>


  </ul>

</div>

<% #The pagination information is another bootstrap 'row' -%>
<div class="row-fluid visible-phone">
   <div class="span12">
      <div class="pageEntriesInfo">
    <%= render :partial => "paginate_compact" %> 
            
            <%=link_to "(#{t('blacklight.search.start_over')})", url_for(:action=>'index'), :id=>"startOverLink" %>
      </div>
    </div>
</div>
